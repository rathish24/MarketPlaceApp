<ion-header>
  <ion-toolbar class="new-background-color" fxLayoutAlign="center center">
    <ion-row fxLayoutAlign="center center" style="padding:5px; margin-top:5px;">
      <ion-col size="1">
        <button ion-button class="cl-back-button" (click)="goBackword()" style="color:white;margin:7px"></button>
      </ion-col>
      <ion-col size="11" fxLayoutAlign="start center" fxLayout="row" >
        <img *ngIf="image == '' " src="../../../assets/agent.png" class="img-css" style="margin-left:2px;" />
        <img *ngIf="image != '' " src="{{image}}" class="img-css" style="margin-left:2px;" />
        <ion-label style="color:white;" class="TitleText">{{name}}</ion-label>
      </ion-col>

    </ion-row>


  </ion-toolbar>
</ion-header>

<ion-content style="width:100%;height:100%;padding-bottom:1200px">
  <div style="height:15px; width:100%">
  </div>
  <div style="color:black;margin-bottom:200px;">
    <div *ngFor="let item of chatArray">
      <div *ngIf="msgCount != '0' ">
        <div fxLayout="row" fxLayoutAlign="start center" *ngIf="item.senderId != userId "
          style="width:100%;">

          <ion-card
            style="border-radius:7px;width:auto;min-width:40%; max-width: 60%;margin-top:8px;margin-left:13px; padding:10px; background-color: white;color:black">
           
            <!-- <ion-card-header> -->
              <ion-card-title><label style="font-size: 17px;">{{item.message}}</label></ion-card-title>
              
              <ion-card-title fxLayoutAlign="end end" > <label style="font-size: 13px;align-content: flex-end;align-self:end;">{{item.created}}</label></ion-card-title>
             
            <!-- </ion-card-header> -->
        
          </ion-card>

         


        </div>
      </div>

      <div *ngIf="msgCount != '0' ">
        <div fxLayout="column" fxLayoutAlign="end end" *ngIf="item.senderId == userId " >
          <ion-card
            style="border-radius:7px;width:auto;min-width:40%; max-width: 70%;margin-top:8px; margin-right:13px; padding:8px; background-color: #fe4f14;color:white">
            <ion-card-title><label style="font-size: 17px;color: white;">{{item.message}}</label></ion-card-title>
              
            <ion-card-title fxLayoutAlign="end end" style="color: white;"> <label style="font-size:13px;align-content: flex-end;align-self:end;">{{item.created}}</label></ion-card-title>
  
          </ion-card>
        </div>

      </div>

    </div>


    <div *ngIf="msgCount == '0' " fxLayout="column" fxLayoutAlign="center center" style="width:100%; margin-top:40%">

      <h1> No chat present.</h1>
    </div>


    <div
      style="position: fixed; height:70px; bottom:0;width:100%; margin:auto; margin-bottom:-5px; border-top:1px solid #f1f4f9; ">
      <ion-card style="width:100%;margin: auto">
        <ion-row>
          <ion-col size="9">
            <ion-textarea placeholder="Type a message" style="color:black" [(ngModel)]="chatModel.message"></ion-textarea>
          </ion-col>

          <ion-col size="3" fxLayout="column" fxLayoutAlign="center center">
            <ion-row>

              <!-- <ion-icon name="attach"
                style="color:rgb(121, 111, 111); width:30px; height:35px; margin-top:-5px; margin-right:5px"></ion-icon> -->
              <ion-icon name="send" style="color:#fe4f14; width:25px; height:25px" (click)="sendMessage()">
              </ion-icon>
            </ion-row>

          </ion-col>
        </ion-row>
      </ion-card>

    </div>
  </div>
</ion-content>